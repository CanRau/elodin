import { make as DocLayout } from '../../../../components/DocLayout.bs.js'

export default DocLayout

# CSS in JS

`@elodin/generator-css-in-js`

This generator is used with JavaScript when building for the web.<br />
Static styles are extracted to CSS files during compilation while a CSS in JS library resolves dynamic styles.<br/>
Variants are rendered to plain string.

## Usage

To use the CSS in JS generator, simply add it to your Elodin configuration and configure your prefered adapter.

#### elodin.config.js

```javascript
var createGenerator = require('@elodin/generator-css-in-js').createGenerator
var felaAdapter = require('@elodin/generator-css-in-js/adapter/fela')

module.exports = {
  generator: createGenerator({
    adapter: felaAdapter(),
  }),
}
```

## Configuration

Apart from the adapter, it also accepts a bunch of configuration options to customize the generated code.

| Option                 | Type        | Default                  | Description                                                    |
| ---------------------- | ----------- | ------------------------ | -------------------------------------------------------------- |
| adapter                | Adapter     | `false`                  | CSS in JS library adapter                                      |
| devMode                | Boolean     | `false`                  | Enables readable class names                                   |
| rootNode               | HTMLElement | `body`                   | CSS selector to apply root reset style to (see below)          |
| generateResetClassName | Function    | `type => "_elo_" + type` | Determines how the reset class names are generated (see below) |

## Adapters

Adapters are bindings to different CSS in JS libraries.<br />
They all use the same generated data and render library specific source code in order to work seamlessly.<br />

| Adapter           | Description                                                                                                                                                                                                  |
| ----------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
|  fela             | Renders styles to pure [fela](http://fela.js.org) [rules](http://fela.js.org/docs/basics/Rules.html)                                                                                                         |
| react-fela        | Renders styles to React components using [react-fela](https://github.com/robinweser/fela/tree/master/packages/react-fela)'s [createComponent](http://fela.js.org/docs/api/bindings/createComponent.html) API |
| styled-components | Renders styles to React components using [styled-components](https://www.styled-components.com) [styled](https://www.styled-components.com/docs/api#styled) API                                              |

> **Missing your favourite library?** File and issue and we'll try to add an adapter for it!

### Example

#### elodin.config.js

```javascript
var createGenerator = require('@elodin/generator-css-in-js').createGenerator
var styledComponentsAdapter = require('@elodin/generator-css-in-js/adapter/styled-components')

const config = {
  devMode: true,
  adapter: styledComponentsAdapter(),
  rootNode: '#__next',
}

module.exports = {
  generator: createGenerator(config),
}
```

## Feature Coverage

- Styles
- Primitives
- Variables
- Variants
- Conditionals
- Functions

It also implements special environment conditions to cover pseudo classes and media queries:

### Pseudo Classes

- link
- hover
- focus
- active
- visited
- checked
- default
- empty
- enabled
- first
- disabled
- focusWithin
- firstChild
- lastChild
- firstOfType
- intermediate
- inRange
- invalid
- lastOfType
- left
- onlyChild
- onlyOfType
- optional
- readOnly
- readWrite
- required
- right
- target
- valid
- visited

### Media Queries

- viewportWidth
- viewportHeight

## Example

This example showcases usage with [React](https://reactjs.org) and the [Fela](http://fela.js.org) adapter.<br />

#### Button.elo

```elo
variant Variant {
  Primary
  Secondary
}

view Button {
  paddingLeft: 10
  paddingRight: 10
  minWidth: $minWidth

  [Variant=Primary] {
    backgroundColor: blue

    [@hover] {
      backgroundColor: lightblue
    }
  }

  [Variant=Secondary] {
    backgroundColor: red

    [@hover] {
      backgroundColor: lightred
    }
  }

  [@viewportWidth>=1024] {
    paddingLeft: 15
    paddingRight: 15
  }
}
```

#### Button.js

```jsx
import React from 'react'
import { useFela } from 'react-fela'

import { Button as ButtonStyle } from './Button.elo.js'

function Button({ children, minWidth = 100, variant = 'Primary' }) {
  const { css } = useFela({ minWidth, variant })

  return <button className={css(ButtonStyle)}>{children}</button>
}
```
